<!DOCTYPE html>
<html>
<head>
  <title>百度地图高级功能示例</title>
  <meta charset="utf-8">
  <style>
    #map {
      width: 100%;
      height: 500px;
    }
    #suggestId {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 999;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <div id="suggestId"></div>

  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=TptQiGIGQx9jnMaQgo8wiurWaxuTpCEX"></script>
  <script type="text/javascript">
    var map = new BMap.Map("map");
    var point = new BMap.Point(106.551643, 29.562849);
    map.centerAndZoom(point, 13);
    map.enableScrollWheelZoom(true);

    // 添加导航控件
    var navigationControl = new BMap.NavigationControl({
      anchor: BMAP_ANCHOR_TOP_LEFT,
      type: BMAP_NAVIGATION_CONTROL_LARGE
    });
    map.addControl(navigationControl);

    // 添加输入提示
    var ac = new BMap.Autocomplete({
      "input" : "suggestId",
      "location" : map
    });

    // 添加路线规划
    var driving = new BMap.DrivingRoute(map, {
      renderOptions: {
        map: map,
        autoViewport: true
      }
    });

    // 监听选中事件
    ac.addEventListener("onconfirm", function(e) {
      var value = e.item.value;
      var address = value.province + value.city + value.district + value.street + value.business;

      // 起点为当前位置，终点为选中的位置
      var start = point;
      var end = new BMap.Point(value.point.lng, value.point.lat);

      // 开始导航
      driving.search(start, end);
    });
  </script>
</body>
</html>
